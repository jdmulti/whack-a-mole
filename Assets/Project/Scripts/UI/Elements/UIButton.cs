using System;
using UnityEngine;
using UnityEngine.EventSystems;

public class UIButton : MonoBehaviour, IPointerDownHandler, IPointerUpHandler
{
    /*################################################################################
        Variables
    ################################################################################*/
    /*--------------------------------------------------------------------------------
        reference
    --------------------------------------------------------------------------------*/
    [Header("Reference")]
    public int buttonIndex;

    /*--------------------------------------------------------------------------------
        events
    --------------------------------------------------------------------------------*/
    public Action<UIButton> PointerDown;
    public Action<UIButton> PointerUp;

    /*################################################################################
        Functions: custom
    ################################################################################*/
    /*--------------------------------------------------------------------------------
        ButtonDown
    --------------------------------------------------------------------------------*/
    protected virtual void ButtonDown()
    {
        PointerDown?.Invoke(this);
    }

    /*--------------------------------------------------------------------------------
        ButtonUp
    --------------------------------------------------------------------------------*/
    protected virtual void ButtonUp()
    {
        PointerUp?.Invoke(this);
    }

    /*################################################################################
        Functions: interface
    ################################################################################*/
    /*--------------------------------------------------------------------------------
        IPointerDownHandler
    --------------------------------------------------------------------------------*/
    void IPointerDownHandler.OnPointerDown(PointerEventData eventData)
    {
        ButtonDown();
    }

    /*--------------------------------------------------------------------------------
        IPointerUpHandler
    --------------------------------------------------------------------------------*/
    void IPointerUpHandler.OnPointerUp(PointerEventData eventData)
    {
        ButtonUp();
    }
}
